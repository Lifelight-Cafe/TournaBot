FROM node:16

ARG DISCORD_BOT_TOKEN
ARG DEV_DISCORD_BOT_TOKEN

ENV DISCORD_BOT_TOKEN=${DISCORD_BOT_TOKEN}
ENV DEV_DISCORD_BOT_TOKEN=${DEV_DISCORD_BOT_TOKEN}

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

RUN npm run build

CMD ["npm", "start"]
